<!doctype html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Jeu de Calcul Sniper</title><style>body{font-family:Arial,sans-serif;background-color:#f0f0f0;margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh}.container{background-color:#fff;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.2);padding:20px;text-align:center}h1{color:#333}select,button{padding:10px;margin:10px;font-size:16px;border:none;border-radius:5px}select{width:100%;max-width:200px}button{background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s}button:hover{background-color:#0056b3}.question{margin-top:20px}#questionText{font-size:24px;margin-bottom:10px;color:#333}#userAnswer{padding:10px;font-size:16px;width:100%;max-width:200px;border:1px solid #ccc;border-radius:5px}#result{font-size:18px;margin-top:10px;color:#007bff}</style></head><body><div class="container"><h1>Jeu de Calcul Sniper</h1><div class="calculator"><p>Choisissez le type de calcul :</p><select id="operation"><option value="addition">Addition</option><option value="soustraction">Soustraction</option><option value="multiplication">Multiplication</option><option value="division">Division</option><option value="autre">Calculs avancés</option></select><p>Niveau de difficulté :</p><select id="difficulty"><option value="facile">Facile</option><option value="moyen">Moyen</option><option value="difficile">Difficile</option></select><button onclick="startGame()">Commencer</button></div><div class="question"><p id="questionText">Question ici</p><input type="text" id="userAnswer" placeholder="Votre réponse"><button onclick="checkAnswer()">Vérifier</button><p id="result"></p></div></div><script>const operations={facile:["2 + 2","5 - 3","3 * 4","10 / 2"],moyen:["8 + 7","12 - 5","6 * 8","18 / 3"],difficile:["15 + 23","30 - 14","7 * 12","42 / 6"]};function startGame(){const operation=document.getElementById("operation").value;const difficulty=document.getElementById("difficulty").value;let questionArray;switch(operation){case"addition":questionArray=operations[difficulty].filter(q=>q.includes("+"));break;case"soustraction":questionArray=operations[difficulty].filter(q=>q.includes("-"));break;case"multiplication":questionArray=operations[difficulty].filter(q=>q.includes("*"));break;case"division":questionArray=operations[difficulty].filter(q=>q.includes("/"));break;case"autre":questionArray=operations[difficulty];break;default:questionArray=operations[difficulty];break;}const randomIndex=Math.floor(Math.random()*questionArray.length);const question=questionArray[randomIndex];document.getElementById("questionText").textContent=question;document.getElementById("result").textContent="";}function checkAnswer(){const userAnswer=parseFloat(document.getElementById("userAnswer").value);const questionText=document.getElementById("questionText").textContent;const result=eval(questionText);const token="<?php echo $_SESSION['token'];?>";if(userAnswer===result){document.getElementById("result").textContent="Bonne réponse !";setTimeout(()=>{startGame();},1e3);}else{document.getElementById("result").textContent="Mauvaise réponse. Essayez à nouveau.";const formData=new FormData();formData.append("userAnswer",userAnswer);formData.append("questionText",questionText);formData.append("token",token);fetch("security.php",{method:"POST",body:formData}).then(response=>response.text()).then(data=>{if(data==="CSRF Detected"){alert("Tentative de CSRF détectée.");}});}}</script></body></html>
